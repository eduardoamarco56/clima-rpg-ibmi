# Ejemplo de configuración Apache para Clima RPG
# Copiar estas líneas a tu archivo httpd.conf

# ============================================
# Configuración CGI para programas RPG
# ============================================

# Mapeo de URLs a programas
# /pub/PROGRAMA.net -> /QSYS.LIB/TULIB.LIB/PROGRAMA.PGM
ScriptAliasMatch /pub/(.*)\.net(.*)  /QSYS.LIB/TULIB.LIB/$1.PGM$2

# ============================================
# Configuración del directorio de programas
# ============================================
<Directory /QSYS.LIB/TULIB.LIB>
   # Permitir acceso
   order allow,deny
   allow from all
   
   # Library list para CGI
   # IMPORTANTE: Incluir CGIDEV2 y LIBHTTP
   SetEnv QIBM_CGI_LIBRARY_LIST "QTEMP;TULIB;CGIDEV2;LIBHTTP;QGPL;"
   
   # Autenticación (opcional - comentar si no se necesita)
   # Require valid-user
   # UserId %%CLIENT%%
   # PasswdFile %%SYSTEM%%
   # AuthType Basic
   # AuthName "Clima App"
</Directory>

# ============================================
# Configuración adicional (opcional)
# ============================================

# Timeout para CGI (aumentar si las peticiones son lentas)
# Timeout 300

# Logs detallados (para debugging)
# LogLevel debug

# ============================================
# Notas importantes:
# ============================================
# 1. Reemplazar TULIB con el nombre de tu biblioteca
# 2. Asegurarse que CGIDEV2 y LIBHTTP estén en la library list
# 3. Reiniciar Apache después de cambios:
#    ENDTCPSVR SERVER(*HTTP) HTTPSVR(TU_INSTANCIA)
#    STRTCPSVR SERVER(*HTTP) HTTPSVR(TU_INSTANCIA)